const s=function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))u(t);new MutationObserver(t=>{for(const o of t)if(o.type==="childList")for(const c of o.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&u(c)}).observe(document,{childList:!0,subtree:!0});function r(t){const o={};return t.integrity&&(o.integrity=t.integrity),t.referrerpolicy&&(o.referrerPolicy=t.referrerpolicy),t.crossorigin==="use-credentials"?o.credentials="include":t.crossorigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function u(t){if(t.ep)return;t.ep=!0;const o=r(t);fetch(t.href,o)}};s();function f(e,n){return e.filter(r=>r.id===n)[0]}function m(e,n){return e.filter(r=>r.id!==n)}function p(e,n){const r=y(e,n);return I(r)?[...e,r]:e}function y(e,n){return{id:`${e.reduce((t,o)=>Math.max(t,parseInt(o.id,10)),Number.MIN_VALUE)+1}`,name:n,done:!1}}function I(e){return!(!e.id||!e.name)}const l="items";async function d(e){const n=JSON.stringify(e);window.localStorage.setItem(l,n)}async function g(){var r;const e=(r=window.localStorage.getItem(l))!=null?r:"[]";return JSON.parse(e)}const b=document.querySelector("#app");let a;function h(){return`<form class="add-form">
    <input type="text" />
    <button type="submit">Add</button>
  </form>`}function w(e){return`<button class="delete-button" data-id="${e}">\u2716\uFE0F</button>`}function v(e){return`<li data-id="${e.id}">
  <span>\u{1F4CC} ${e.name} ${e.done?"\u2714\uFE0F":""}</span>
  ${w(e.id)}
</li>`}function i(e){b.innerHTML=`
    <ul class="list">
      ${e.map(n=>v(n)).join("")}
    </ul>
    ${h()}
  `,a=document.querySelector(".add-form input[type=text]"),E(e)}function E(e){var n;document.querySelectorAll("ul.list > li").forEach(r=>{r.addEventListener("click",async u=>{const t=u.currentTarget,o=t.dataset.id;if(console.log(o,t),!o)return;const c=f(e,o);if(!!c)return c.done=!c.done,i(e),await d(e),!0})}),(n=document.querySelector(".add-form button"))==null||n.addEventListener("click",async r=>{r.preventDefault();const u=a.value,t=p(e,u);t!==e&&(e=t,a.value="",i(e),await d(e),a.focus())}),document.querySelectorAll(".delete-button").forEach(r=>{r.addEventListener("click",async u=>{u.preventDefault(),u.stopPropagation();const t=u.currentTarget.dataset.id;!t||(e=m(e,t),i(e),await d(e))})})}g().then(e=>{i(e)}).catch(e=>{console.error(e)});
